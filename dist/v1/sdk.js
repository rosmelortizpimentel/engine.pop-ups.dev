var ToggleupSDK=function(n){"use strict";var t,o,e,i,r,l,a,u,p,c,s,f={},d=[],m=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,h=Array.isArray;function x(n,t){for(var o in t)n[o]=t[o];return n}function g(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function v(n,o,e){var i,r,l,a={};for(l in o)"key"==l?i=o[l]:"ref"==l?r=o[l]:a[l]=o[l];if(arguments.length>2&&(a.children=arguments.length>3?t.call(arguments,2):e),"function"==typeof n&&null!=n.defaultProps)for(l in n.defaultProps)void 0===a[l]&&(a[l]=n.defaultProps[l]);return y(n,a,i,r,null)}function y(n,t,i,r,l){var a={type:n,props:t,key:i,ref:r,o:null,i:null,p:0,m:null,h:null,constructor:void 0,v:null==l?++e:l,_:-1,k:0};return null==l&&null!=o.vnode&&o.vnode(a),a}function b(n){return n.children}function w(n,t){this.props=n,this.context=t}function _(n,t){if(null==t)return n.i?_(n.i,n._+1):null;for(var o;t<n.o.length;t++)if(null!=(o=n.o[t])&&null!=o.m)return o.m;return"function"==typeof n.type?_(n):null}function k(n){var t,o;if(null!=(n=n.i)&&null!=n.h){for(n.m=n.h.base=null,t=0;t<n.o.length;t++)if(null!=(o=n.o[t])&&null!=o.m){n.m=n.h.base=o.m;break}return k(n)}}function S(n){(!n.S&&(n.S=!0)&&i.push(n)&&!C.C++||r!=o.debounceRendering)&&((r=o.debounceRendering)||l)(C)}function C(){for(var n,t,e,r,l,u,p,c=1;i.length;)i.length>c&&i.sort(a),n=i.shift(),c=i.length,n.S&&(e=void 0,r=void 0,l=(r=(t=n).v).m,u=[],p=[],t.I&&((e=x({},r)).v=r.v+1,o.vnode&&o.vnode(e),j(t.I,e,r,t.F,t.I.namespaceURI,32&r.k?[l]:null,u,null==l?_(r):l,!!(32&r.k),p),e.v=r.v,e.i.o[e._]=e,R(u,e,p),r.m=r.i=null,e.m!=l&&k(e)));C.C=0}function z(n,t,o,e,i,r,l,a,u,p,c){var s,m,x,g,v,w,k,S=e&&e.o||d,C=t.length;for(u=function(n,t,o,e,i){var r,l,a,u,p,c=o.length,s=c,f=0;for(n.o=new Array(i),r=0;r<i;r++)null!=(l=t[r])&&"boolean"!=typeof l&&"function"!=typeof l?("string"==typeof l||"number"==typeof l||"bigint"==typeof l||l.constructor==String?l=n.o[r]=y(null,l,null,null,null):h(l)?l=n.o[r]=y(b,{children:l},null,null,null):null==l.constructor&&l.p>0?l=n.o[r]=y(l.type,l.props,l.key,l.ref?l.ref:null,l.v):n.o[r]=l,u=r+f,l.i=n,l.p=n.p+1,-1!=(p=l._=F(l,o,u,s))&&(s--,(a=o[p])&&(a.k|=2)),null==a||null==a.v?(-1==p&&(i>c?f--:i<c&&f++),"function"!=typeof l.type&&(l.k|=4)):p!=u&&(p==u-1?f--:p==u+1?f++:(p>u?f--:f++,l.k|=4))):n.o[r]=null;if(s)for(r=0;r<c;r++)null!=(a=o[r])&&!(2&a.k)&&(a.m==e&&(e=_(a)),Y(a,a));return e}(o,t,S,u,C),s=0;s<C;s++)null!=(x=o.o[s])&&(m=-1==x._?f:S[x._]||f,x._=s,w=j(n,x,m,i,r,l,a,u,p,c),g=x.m,x.ref&&m.ref!=x.ref&&(m.ref&&W(m.ref,null,x),c.push(x.ref,x.h||g,x)),null==v&&null!=g&&(v=g),(k=!!(4&x.k))||m.o===x.o?u=I(x,u,n,k):"function"==typeof x.type&&void 0!==w?u=w:g&&(u=g.nextSibling),x.k&=-7);return o.m=v,u}function I(n,t,o,e){var i,r;if("function"==typeof n.type){for(i=n.o,r=0;i&&r<i.length;r++)i[r]&&(i[r].i=n,t=I(i[r],t,o,e));return t}n.m!=t&&(e&&(t&&n.type&&!t.parentNode&&(t=_(n)),o.insertBefore(n.m,t||null)),t=n.m);do{t=t&&t.nextSibling}while(null!=t&&8==t.nodeType);return t}function F(n,t,o,e){var i,r,l,a=n.key,u=n.type,p=t[o],c=null!=p&&!(2&p.k);if(null===p&&null==a||c&&a==p.key&&u==p.type)return o;if(e>(c?1:0))for(i=o-1,r=o+1;i>=0||r<t.length;)if(null!=(p=t[l=i>=0?i--:r++])&&!(2&p.k)&&a==p.key&&u==p.type)return l;return-1}function T(n,t,o){"-"==t[0]?n.setProperty(t,null==o?"":o):n[t]=null==o?"":"number"!=typeof o||m.test(t)?o:o+"px"}function O(n,t,o,e,i){var r,l;n:if("style"==t)if("string"==typeof o)n.style.cssText=o;else{if("string"==typeof e&&(n.style.cssText=e=""),e)for(t in e)o&&t in o||T(n.style,t,"");if(o)for(t in o)e&&o[t]==e[t]||T(n.style,t,o[t])}else if("o"==t[0]&&"n"==t[1])r=t!=(t=t.replace(u,"$1")),l=t.toLowerCase(),t=l in n||"onFocusOut"==t||"onFocusIn"==t?l.slice(2):t.slice(2),n.l||(n.l={}),n.l[t+r]=o,o?e?o.u=e.u:(o.u=p,n.addEventListener(t,r?s:c,r)):n.removeEventListener(t,r?s:c,r);else{if("http://www.w3.org/2000/svg"==i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in n)try{n[t]=null==o?"":o;break n}catch(a){}"function"==typeof o||(null==o||!1===o&&"-"!=t[4]?n.removeAttribute(t):n.setAttribute(t,"popover"==t&&1==o?"":o))}}function $(n){return function(t){if(this.l){var e=this.l[t.type+n];if(null==t.t)t.t=p++;else if(t.t<e.u)return;return e(o.event?o.event(t):t)}}}function j(n,e,i,r,l,a,u,p,c,s){var d,m,v,y,k,S,C,I,F,T,$,j,R,W,Y,D,L,M=e.type;if(null!=e.constructor)return null;128&i.k&&(c=!!(32&i.k),a=[p=e.m=i.m]),(d=o.p)&&d(e);n:if("function"==typeof M)try{if(I=e.props,F="prototype"in M&&M.prototype.render,T=(d=M.contextType)&&r[d.h],$=d?T?T.props.value:d.i:r,i.h?C=(m=e.h=i.h).i=m.T:(F?e.h=m=new M(I,$):(e.h=m=new w(I,$),m.constructor=M,m.render=B),T&&T.sub(m),m.state||(m.state={}),m.F=r,v=m.S=!0,m.O=[],m.$=[]),F&&null==m.j&&(m.j=m.state),F&&null!=M.getDerivedStateFromProps&&(m.j==m.state&&(m.j=x({},m.j)),x(m.j,M.getDerivedStateFromProps(I,m.j))),y=m.props,k=m.state,m.v=e,v)F&&null==M.getDerivedStateFromProps&&null!=m.componentWillMount&&m.componentWillMount(),F&&null!=m.componentDidMount&&m.O.push(m.componentDidMount);else{if(F&&null==M.getDerivedStateFromProps&&I!==y&&null!=m.componentWillReceiveProps&&m.componentWillReceiveProps(I,$),e.v==i.v||!m.m&&null!=m.shouldComponentUpdate&&!1===m.shouldComponentUpdate(I,m.j,$)){for(e.v!=i.v&&(m.props=I,m.state=m.j,m.S=!1),e.m=i.m,e.o=i.o,e.o.some(function(n){n&&(n.i=e)}),j=0;j<m.$.length;j++)m.O.push(m.$[j]);m.$=[],m.O.length&&u.push(m);break n}null!=m.componentWillUpdate&&m.componentWillUpdate(I,m.j,$),F&&null!=m.componentDidUpdate&&m.O.push(function(){m.componentDidUpdate(y,k,S)})}if(m.context=$,m.props=I,m.I=n,m.m=!1,R=o.C,W=0,F){for(m.state=m.j,m.S=!1,R&&R(e),d=m.render(m.props,m.state,m.context),Y=0;Y<m.$.length;Y++)m.O.push(m.$[Y]);m.$=[]}else do{m.S=!1,R&&R(e),d=m.render(m.props,m.state,m.context),m.state=m.j}while(m.S&&++W<25);m.state=m.j,null!=m.getChildContext&&(r=x(x({},r),m.getChildContext())),F&&!v&&null!=m.getSnapshotBeforeUpdate&&(S=m.getSnapshotBeforeUpdate(y,k)),D=d,null!=d&&d.type===b&&null==d.key&&(D=P(d.props.children)),p=z(n,h(D)?D:[D],e,i,r,l,a,u,p,c,s),m.base=e.m,e.k&=-161,m.O.length&&u.push(m),C&&(m.T=m.i=null)}catch(U){if(e.v=null,c||null!=a)if(U.then){for(e.k|=c?160:128;p&&8==p.nodeType&&p.nextSibling;)p=p.nextSibling;a[a.indexOf(p)]=null,e.m=p}else{for(L=a.length;L--;)g(a[L]);A(e)}else e.m=i.m,e.o=i.o,U.then||A(e);o.m(U,e,i)}else null==a&&e.v==i.v?(e.o=i.o,e.m=i.m):p=e.m=function(n,e,i,r,l,a,u,p,c){var s,d,m,x,v,y,b,w=i.props||f,k=e.props,S=e.type;if("svg"==S?l="http://www.w3.org/2000/svg":"math"==S?l="http://www.w3.org/1998/Math/MathML":l||(l="http://www.w3.org/1999/xhtml"),null!=a)for(s=0;s<a.length;s++)if((v=a[s])&&"setAttribute"in v==!!S&&(S?v.localName==S:3==v.nodeType)){n=v,a[s]=null;break}if(null==n){if(null==S)return document.createTextNode(k);n=document.createElementNS(l,S,k.is&&k),p&&(o.A&&o.A(e,a),p=!1),a=null}if(null==S)w===k||p&&n.data==k||(n.data=k);else{if(a=a&&t.call(n.childNodes),!p&&null!=a)for(w={},s=0;s<n.attributes.length;s++)w[(v=n.attributes[s]).name]=v.value;for(s in w)if(v=w[s],"children"==s);else if("dangerouslySetInnerHTML"==s)m=v;else if(!(s in k)){if("value"==s&&"defaultValue"in k||"checked"==s&&"defaultChecked"in k)continue;O(n,s,null,v,l)}for(s in k)v=k[s],"children"==s?x=v:"dangerouslySetInnerHTML"==s?d=v:"value"==s?y=v:"checked"==s?b=v:p&&"function"!=typeof v||w[s]===v||O(n,s,v,w[s],l);if(d)p||m&&(d.R==m.R||d.R==n.innerHTML)||(n.innerHTML=d.R),e.o=[];else if(m&&(n.innerHTML=""),z("template"==e.type?n.content:n,h(x)?x:[x],e,i,r,"foreignObject"==S?"http://www.w3.org/1999/xhtml":l,a,u,a?a[0]:i.o&&_(i,0),p,c),null!=a)for(s=a.length;s--;)g(a[s]);p||(s="value","progress"==S&&null==y?n.removeAttribute("value"):null!=y&&(y!==n[s]||"progress"==S&&!y||"option"==S&&y!=w[s])&&O(n,s,y,w[s],l),s="checked",null!=b&&b!=n[s]&&O(n,s,b,w[s],l))}return n}(i.m,e,i,r,l,a,u,c,s);return(d=o.diffed)&&d(e),128&e.k?void 0:p}function A(n){n&&n.h&&(n.h.m=!0),n&&n.o&&n.o.forEach(A)}function R(n,t,e){for(var i=0;i<e.length;i++)W(e[i],e[++i],e[++i]);o.h&&o.h(t,n),n.some(function(t){try{n=t.O,t.O=[],n.some(function(n){n.call(t)})}catch(e){o.m(e,t.v)}})}function P(n){return"object"!=typeof n||null==n||n.p&&n.p>0?n:h(n)?n.map(P):x({},n)}function W(n,t,e){try{if("function"==typeof n){var i="function"==typeof n.k;i&&n.k(),i&&null==t||(n.k=n(t))}else n.current=t}catch(r){o.m(r,e)}}function Y(n,t,e){var i,r;if(o.unmount&&o.unmount(n),(i=n.ref)&&(i.current&&i.current!=n.m||W(i,null,t)),null!=(i=n.h)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(l){o.m(l,t)}i.base=i.I=null}if(i=n.o)for(r=0;r<i.length;r++)i[r]&&Y(i[r],t,e||"function"!=typeof n.type);e||g(n.m),n.h=n.i=n.m=void 0}function B(n,t,o){return this.constructor(n,o)}t=d.slice,o={m:function(n,t,o,e){for(var i,r,l;t=t.i;)if((i=t.h)&&!i.i)try{if((r=i.constructor)&&null!=r.getDerivedStateFromError&&(i.setState(r.getDerivedStateFromError(n)),l=i.S),null!=i.componentDidCatch&&(i.componentDidCatch(n,e||{}),l=i.S),l)return i.T=i}catch(a){n=a}throw n}},e=0,w.prototype.setState=function(n,t){var o;o=null!=this.j&&this.j!=this.state?this.j:this.j=x({},this.state),"function"==typeof n&&(n=n(x({},o),this.props)),n&&x(o,n),null!=n&&this.v&&(t&&this.$.push(t),S(this))},w.prototype.forceUpdate=function(n){this.v&&(this.m=!0,n&&this.O.push(n),S(this))},w.prototype.render=b,i=[],l="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,a=function(n,t){return n.v.p-t.v.p},C.C=0,u=/(PointerCapture)$|Capture$/i,p=0,c=$(!1),s=$(!0);var D=0;function L(n,t,e,i,r,l){t||(t={});var a,u,p=t;if("ref"in p)for(u in p={},t)"ref"==u?a=t[u]:p[u]=t[u];var c={type:n,props:p,key:e,ref:a,o:null,i:null,p:0,m:null,h:null,constructor:void 0,v:--D,_:-1,k:0,P:r,W:l};if("function"==typeof n&&(a=n.defaultProps))for(u in a)void 0===p[u]&&(p[u]=a[u]);return o.vnode&&o.vnode(c),c}var M,U,E,H,q=0,N=[],K=o,V=K.p,G=K.C,J=K.diffed,Q=K.h,X=K.unmount,Z=K.i;function nn(n,t){K.O&&K.O(U,n,q||t),q=0;var o=U.Y||(U.Y={i:[],O:[]});return n>=o.i.length&&o.i.push({}),o.i[n]}function tn(n,t){var o=nn(M++,7);return function(n,t){return!n||n.length!==t.length||t.some(function(t,o){return t!==n[o]})}(o.Y,t)&&(o.i=n(),o.Y=t,o.O=n),o.i}function on(n,t){return q=8,tn(function(){return n},t)}function en(){for(var n;n=N.shift();)if(n.I&&n.Y)try{n.Y.O.forEach(an),n.Y.O.forEach(un),n.Y.O=[]}catch(t){n.Y.O=[],K.m(t,n.v)}}K.p=function(n){U=null,V&&V(n)},K.i=function(n,t){n&&t.o&&t.o.A&&(n.A=t.o.A),Z&&Z(n,t)},K.C=function(n){G&&G(n),M=0;var t=(U=n.h).Y;t&&(E===U?(t.O=[],U.O=[],t.i.forEach(function(n){n.B&&(n.i=n.B),n.u=n.B=void 0})):(t.O.forEach(an),t.O.forEach(un),t.O=[],M=0)),E=U},K.diffed=function(n){J&&J(n);var t=n.h;t&&t.Y&&(t.Y.O.length&&(1!==N.push(t)&&H===K.requestAnimationFrame||((H=K.requestAnimationFrame)||ln)(en)),t.Y.i.forEach(function(n){n.u&&(n.Y=n.u),n.u=void 0})),E=U=null},K.h=function(n,t){t.some(function(n){try{n.O.forEach(an),n.O=n.O.filter(function(n){return!n.i||un(n)})}catch(o){t.some(function(n){n.O&&(n.O=[])}),t=[],K.m(o,n.v)}}),Q&&Q(n,t)},K.unmount=function(n){X&&X(n);var t,o=n.h;o&&o.Y&&(o.Y.i.forEach(function(n){try{an(n)}catch(o){t=o}}),o.Y=void 0,t&&K.m(t,o.v))};var rn="function"==typeof requestAnimationFrame;function ln(n){var t,o=function(){clearTimeout(e),rn&&cancelAnimationFrame(t),setTimeout(n)},e=setTimeout(o,35);rn&&(t=requestAnimationFrame(o))}function an(n){var t=U,o=n.h;"function"==typeof o&&(n.h=void 0,o()),U=t}function un(n){var t=U;n.h=n.i(),U=t}function pn(n,t){return"function"==typeof t?t(n):t}const cn="\n  @keyframes popupFadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n\n  @keyframes popupScaleIn {\n    from {\n      opacity: 0;\n      transform: translate(-50%, -50%) scale(0.95);\n    }\n    to {\n      opacity: 1;\n      transform: translate(-50%, -50%) scale(1);\n    }\n  }\n\n  @keyframes popupFadeOut {\n    from {\n      opacity: 1;\n    }\n    to {\n      opacity: 0;\n    }\n  }\n\n  @keyframes popupScaleOut {\n    from {\n      opacity: 1;\n      transform: translate(-50%, -50%) scale(1);\n    }\n    to {\n      opacity: 0;\n      transform: translate(-50%, -50%) scale(0.95);\n    }\n  }\n\n  @keyframes slideDown {\n    from {\n      transform: translateY(-100%);\n    }\n    to {\n      transform: translateY(0);\n    }\n  }\n\n  @keyframes slideUp {\n    from {\n      transform: translateY(100%);\n    }\n    to {\n      transform: translateY(0);\n    }\n  }\n\n  @keyframes slideOutUp {\n    from {\n      transform: translateY(0);\n    }\n    to {\n      transform: translateY(-100%);\n    }\n  }\n\n  @keyframes slideOutDown {\n    from {\n      transform: translateY(0);\n    }\n    to {\n      transform: translateY(100%);\n    }\n  }\n";function sn(n=!1){return{animation:n?"popupFadeOut 200ms ease-in forwards":"popupFadeIn 300ms ease-out forwards"}}function fn(n){var t,o;return{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:(null==(o=null==(t=n.design)?void 0:t.colors)?void 0:o.overlay)||"rgba(0, 0, 0, 0.6)",zIndex:2147483646}}const dn="\n  /* ============================================\n   * BASE STYLES - All devices\n   * ============================================ */\n  .popup-container {\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n  }\n\n  .popup-headline.top_bar,\n  .popup-body.top_bar {\n    white-space: normal !important;\n    word-wrap: break-word;\n    overflow-wrap: break-word;\n  }\n\n  /* ============================================\n   * TABLET - max-width: 768px\n   * ============================================ */\n  @media (max-width: 768px) {\n    .popup-container.modal {\n      width: 90vw !important;\n      max-width: 500px !important;\n    }\n    \n    .popup-content.modal {\n      padding: 22px !important;\n    }\n    \n    .popup-headline.modal {\n      font-size: 20px !important;\n    }\n    \n    .popup-content.top_bar {\n      flex-wrap: wrap !important;\n      justify-content: center !important;\n      gap: 10px !important;\n      padding: 12px 50px 12px 16px !important;\n    }\n    \n    .popup-headline.top_bar {\n      font-size: 13px !important;\n    }\n    \n    .popup-body.top_bar {\n      font-size: 13px !important;\n    }\n    \n    .popup-btn.top_bar {\n      padding: 8px 14px !important;\n      font-size: 12px !important;\n    }\n  }\n\n  /* ============================================\n   * MOBILE - max-width: 480px\n   * ============================================ */\n  @media (max-width: 480px) {\n    .popup-container.modal {\n      width: 95vw !important;\n      max-width: none !important;\n      margin: 0 auto !important;\n    }\n    \n    .popup-content.modal {\n      padding: 20px 16px !important;\n    }\n    \n    .popup-headline.modal {\n      font-size: 18px !important;\n      margin-bottom: 10px !important;\n    }\n    \n    .popup-body.modal {\n      font-size: 14px !important;\n      margin-bottom: 16px !important;\n    }\n    \n    .popup-btn {\n      width: 100% !important;\n      padding: 14px 20px !important;\n      font-size: 15px !important;\n      min-height: 48px !important;\n    }\n    \n    .popup-content.top_bar {\n      flex-direction: column !important;\n      align-items: center !important;\n      text-align: center !important;\n      padding: 14px 44px 14px 14px !important;\n      gap: 8px !important;\n    }\n    \n    .popup-headline.top_bar {\n      font-size: 14px !important;\n      line-height: 1.3 !important;\n    }\n    \n    .popup-body.top_bar {\n      font-size: 13px !important;\n      line-height: 1.4 !important;\n    }\n    \n    .popup-btn.top_bar {\n      margin-top: 4px !important;\n      padding: 10px 20px !important;\n      font-size: 13px !important;\n      min-height: 44px !important;\n    }\n    \n    .popup-close-btn {\n      min-width: 44px !important;\n      min-height: 44px !important;\n      right: 4px !important;\n    }\n\n    .popup-watermark {\n      font-size: 10px !important;\n      margin-top: 12px !important;\n      padding-top: 10px !important;\n    }\n  }\n\n  /* ============================================\n   * VERY SMALL SCREENS - max-width: 360px\n   * ============================================ */\n  @media (max-width: 360px) {\n    .popup-content.modal {\n      padding: 16px 12px !important;\n    }\n    \n    .popup-headline.modal {\n      font-size: 16px !important;\n    }\n    \n    .popup-body.modal {\n      font-size: 13px !important;\n    }\n    \n    .popup-headline.top_bar {\n      font-size: 13px !important;\n    }\n    \n    .popup-body.top_bar {\n      font-size: 12px !important;\n    }\n  }\n",mn={backgroundColor:"#2196F3",textColor:"#ffffff",borderRadius:"4px",padding:"8px 16px",fontSize:"14px",fontWeight:"600"},hn={type:"top_bar",position:"top",fixed:!0,pushContent:!0,showCloseButton:!0,closable:!0,width:"100%",maxWidth:"none",content:{headline:"",body:"",image:null},buttons:[],style:{backgroundColor:"#ffffff",textColor:"#1a1a1a",closeIconColor:"#999999",borderRadius:"0px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.08)",padding:"12px 20px",borderBottom:"1px solid rgba(0, 0, 0, 0.05)",fontFamily:null},animation:{enter:"slideDown",exit:"slideUp"}},xn={type:"modal",showCloseButton:!0,closable:!0,closeOnOverlayClick:!0,width:"420px",maxWidth:"90vw",content:{headline:"",body:"",image:null},buttons:[],style:{backgroundColor:"#ffffff",textColor:"#1a1a1a",closeIconColor:"#999999",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)",padding:"24px",overlayColor:"rgba(0, 0, 0, 0.6)",fontFamily:null},animation:{enter:"scaleIn",exit:"scaleOut"}};function gn(n,t){const o={...n};for(const e in t)null!==t[e]&&void 0!==t[e]&&("object"!=typeof t[e]||Array.isArray(t[e])?o[e]=t[e]:o[e]=gn(n[e]||{},t[e]));return o}function vn({config:n,branding:t=null,onClose:o,isPreview:e=!1}){var i,r,l,a,u;const p=tn(()=>function(n,t=null){var o;const e="top_bar"===(n.type||(null==(o=n.design)?void 0:o.type))?hn:xn;let i;return i=n.design?{...n,design:gn(e,n.design)}:gn(e,n),t&&(i=function(n,t){var o,e,i,r,l,a,u,p;if(!t)return n;const c={...n},s=c.style||(null==(o=c.design)?void 0:o.style)||{},f=c.buttons||(null==(e=c.design)?void 0:e.buttons)||[];if(t.colors&&(t.colors.background&&!s.backgroundColor&&(s.backgroundColor=t.colors.background),t.colors.textPrimary&&!s.textColor&&(s.textColor=t.colors.textPrimary)),(null==(r=null==(i=t.typography)?void 0:i.fontFamilies)?void 0:r.primary)&&!s.fontFamily&&(s.fontFamily=t.typography.fontFamilies.primary),(null==(l=t.spacing)?void 0:l.borderRadius)&&!s.borderRadius&&(s.borderRadius=t.spacing.borderRadius),(null==(a=t.components)?void 0:a.buttonPrimary)&&f.length>0){const n=t.components.buttonPrimary;f.forEach((o,e)=>{if(o.style||(o.style={}),0===e)n.background&&!o.style.backgroundColor&&(o.style.backgroundColor=n.background),n.textColor&&!o.style.textColor&&(o.style.textColor=n.textColor),n.borderRadius&&!o.style.borderRadius&&(o.style.borderRadius=n.borderRadius),n.shadow&&!o.style.boxShadow&&(o.style.boxShadow=n.shadow);else if(t.components.buttonSecondary){const n=t.components.buttonSecondary;n.background&&!o.style.backgroundColor&&(o.style.backgroundColor=n.background),n.textColor&&!o.style.textColor&&(o.style.textColor=n.textColor),n.borderRadius&&!o.style.borderRadius&&(o.style.borderRadius=n.borderRadius)}})}if(null==(u=t.images)?void 0:u.logo){const n=c.content||(null==(p=c.design)?void 0:p.content)||{};n.image||(n.image={url:t.images.logo,position:"left",height:"24px"}),c.content?c.content=n:c.design&&(c.design.content=n)}return c.style?c.style=s:c.design&&(c.design.style=s),c.buttons?c.buttons=f:c.design&&(c.design.buttons=f),c}(i,t)),i}(n,t),[n,t]),[c,s]=(q=1,function(n,t){var o=nn(M++,2);if(o.t=n,!o.h&&(o.i=[pn(void 0,t),function(n){var t=o.B?o.B[0]:o.i[0],e=o.t(t,n);t!==e&&(o.B=[e,o.i[1]],o.h.setState({}))}],o.h=U,!U.D)){var e=function(n,t,e){if(!o.h.Y)return!0;var r=o.h.Y.i.filter(function(n){return!!n.h});if(r.every(function(n){return!n.B}))return!i||i.call(this,n,t,e);var l=o.h.props!==n;return r.forEach(function(n){if(n.B){var t=n.i[0];n.i=n.B,n.B=void 0,t!==n.i[0]&&(l=!0)}}),i&&i.call(this,n,t,e)||l};U.D=!0;var i=U.shouldComponentUpdate,r=U.componentWillUpdate;U.componentWillUpdate=function(n,t,o){if(this.m){var l=i;i=void 0,e(n,t,o),i=l}r&&r.call(this,n,t,o)},U.shouldComponentUpdate=e}return o.B||o.i}(pn,!1)),f=p.design||p,d="modal"===f.type,m="top_bar"===f.type,h=f.content||{headline:f.headline,body:f.body,image:f.image},x=n=>"string"==typeof n?{text:n,style:{}}:n||{text:"",style:{}},g={headline:x(h.headline),body:x(h.body),image:h.image},v=f.style||{backgroundColor:null==(i=f.colors)?void 0:i.background,textColor:null==(r=f.colors)?void 0:r.text,closeIconColor:null==(l=f.colors)?void 0:l.closeIcon,borderRadius:f.borderRadius,boxShadow:f.boxShadow,padding:f.padding},y=f.buttons||(f.btnText?[{text:f.btnText,action:f.btnLink?"link":"close",url:f.btnLink,target:"_self",style:{backgroundColor:null==(a=f.colors)?void 0:a.buttonBg,textColor:null==(u=f.colors)?void 0:u.buttonText}}]:[]),w=on(()=>{(f.closable||void 0===f.closable)&&(e?null==o||o():(s(!0),setTimeout(()=>{null==o||o()},200)))},[e,o,f.closable]),_=on(n=>{"link"===n.action&&n.url&&("_blank"===n.target?window.open(n.url,"_blank","noopener,noreferrer"):window.location.href=n.url),"close"!==n.action&&n.action||w()},[w]),k=on(n=>{n.target===n.currentTarget&&!1!==f.closeOnOverlayClick&&w()},[w,f.closeOnOverlayClick]),S=(n=!1)=>{const t=f.animation||{},o={slideDown:n?"slideOutUp":"slideDown",slideUp:n?"slideOutDown":"slideUp",scaleIn:n?"popupScaleOut":"popupScaleIn",scaleOut:"popupScaleOut",fadeIn:n?"popupFadeOut":"popupFadeIn",fadeOut:"popupFadeOut",none:null};return{animation:`${o[n?t.exit:t.enter]||o.slideDown} ${n?200:300}ms ease-${n?"in":"out"} forwards`}},C=()=>!1===f.showCloseButton?null:L("button",{onClick:w,"aria-label":"Close",class:"popup-close-btn",style:{position:"absolute",top:m?"50%":"12px",right:"12px",transform:m?"translateY(-50%)":"none",background:"transparent",border:"none",cursor:"pointer",padding:"8px",minWidth:"44px",minHeight:"44px",display:"flex",alignItems:"center",justifyContent:"center",color:v.closeIconColor||"#999999",borderRadius:"50%",transition:"background-color 150ms ease"},children:L("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[L("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),L("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),z=(n,t)=>{const o={...mn,...n.style};return L("button",{onClick:()=>_(n),class:"popup-btn",style:{display:"inline-flex",alignItems:"center",justifyContent:"center",padding:o.padding||"8px 16px",fontSize:o.fontSize||"14px",fontWeight:o.fontWeight||"600",color:o.textColor||"#ffffff",backgroundColor:o.backgroundColor||"#2196F3",border:"none",borderRadius:o.borderRadius||"4px",cursor:"pointer",whiteSpace:"nowrap",transition:"opacity 150ms ease, transform 150ms ease"},children:n.text},t)},I=()=>{var n;return(null==(n=g.image)?void 0:n.url)?L("img",{src:g.image.url,alt:"",class:"popup-image",style:{width:g.image.width||"auto",height:g.image.height||"24px",objectFit:"contain",flexShrink:0}}):null},F=()=>m?(()=>{var n,t,o,i,r,l,a;const u=f.position||"top",p=!1!==f.fixed,s=(null==(n=g.image)?void 0:n.position)||"left",d="-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif";return L("div",{class:"popup-container top_bar",style:{fontFamily:v.fontFamily?`${v.fontFamily}, ${d}`:d,boxSizing:"border-box",position:e?"relative":p?"fixed":"relative",...p?{[u]:0}:{},left:0,right:0,width:f.width||"100%",maxWidth:f.maxWidth||"none",margin:f.maxWidth&&"none"!==f.maxWidth?"0 auto":void 0,backgroundColor:v.backgroundColor||"#ffffff",color:v.textColor||"#1a1a1a",borderRadius:v.borderRadius||"0px",boxShadow:v.boxShadow||"0 2px 8px rgba(0, 0, 0, 0.08)",borderBottom:"top"===u?v.borderBottom||"1px solid rgba(0, 0, 0, 0.05)":void 0,borderTop:"bottom"===u?v.borderTop||"1px solid rgba(0, 0, 0, 0.05)":void 0,zIndex:2147483647,...e?{}:S(c)},role:"banner",children:[L("div",{class:"popup-content top_bar",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:v.padding||"12px 20px",paddingRight:!1!==f.showCloseButton?"50px":v.padding||"20px",gap:"12px",flexWrap:"wrap",minHeight:"40px"},children:["left"===s&&I(),L("div",{class:"popup-text",style:{display:"flex",alignItems:"center",gap:"8px",flexWrap:"wrap",justifyContent:"center"},children:[g.headline.text&&L("span",{class:"popup-headline top_bar",style:{fontWeight:(null==(t=g.headline.style)?void 0:t.fontWeight)||"700",fontSize:(null==(o=g.headline.style)?void 0:o.fontSize)||"14px",color:(null==(i=g.headline.style)?void 0:i.color)||v.textColor||"#1a1a1a",...g.headline.style},children:g.headline.text}),g.body.text&&L("span",{class:"popup-body top_bar",style:{fontSize:(null==(r=g.body.style)?void 0:r.fontSize)||"14px",opacity:void 0!==(null==(l=g.body.style)?void 0:l.opacity)?g.body.style.opacity:.9,color:(null==(a=g.body.style)?void 0:a.color)||v.textColor||"#1a1a1a",...g.body.style},children:g.body.text})]}),"right"===s&&I(),y.slice(0,3).map((n,t)=>z(n,t))]}),C()]})})():(()=>{var n;const t="-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif",o={fontFamily:v.fontFamily?`${v.fontFamily}, ${t}`:t,boxSizing:"border-box",position:e?"relative":"fixed",top:e?void 0:"50%",left:e?void 0:"50%",transform:e?void 0:"translate(-50%, -50%)",width:f.width||"420px",maxWidth:f.maxWidth||"90vw",backgroundColor:v.backgroundColor||"#ffffff",color:v.textColor||"#1a1a1a",borderRadius:v.borderRadius||"12px",boxShadow:v.boxShadow||"0 4px 20px rgba(0, 0, 0, 0.15)",zIndex:2147483647,...e?{margin:"0 auto"}:S(c)},i={padding:v.padding||"24px",textAlign:"center"};return L("div",{class:"popup-container modal",style:o,role:"dialog","aria-modal":"true",children:[C(),L("div",{class:"popup-content modal",style:i,children:[(null==(n=g.image)?void 0:n.url)&&L("img",{src:g.image.url,alt:"",style:{width:g.image.width||"100%",height:g.image.height||"auto",objectFit:"contain",marginBottom:"16px",borderRadius:"8px"}}),g.headline&&L("h2",{class:"popup-headline modal",style:{margin:"0 0 12px 0",fontSize:"22px",fontWeight:"700",lineHeight:"1.3"},children:g.headline}),g.body&&L("p",{class:"popup-body modal",style:{margin:"0 0 20px 0",fontSize:"15px",lineHeight:"1.5",opacity:.85},children:g.body}),y.length>0&&L("div",{style:{display:"flex",gap:"12px",justifyContent:"center",flexWrap:"wrap"},children:y.slice(0,3).map((n,t)=>z(n,t))}),f.showWatermark&&L("div",{class:"popup-watermark",style:{marginTop:"16px",paddingTop:"12px",borderTop:"1px solid rgba(0,0,0,0.08)",fontSize:"11px",opacity:.5},children:["Powered by ",L("a",{href:"https://toggleup.io",target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"underline"},children:"Toggleup"})]})]})]})})();return L(b,e?{children:[L("style",{children:cn}),L("style",{children:dn}),F()]}:{children:[L("style",{children:cn}),L("style",{children:dn}),L("style",{children:"\n                .popup-close-btn:hover { background-color: rgba(0, 0, 0, 0.05); }\n                .popup-btn:hover { opacity: 0.9; transform: translateY(-1px); }\n                .popup-btn:active { transform: translateY(0); }\n            "}),d&&L("div",{class:"popup-overlay",style:{...fn({design:{colors:{overlay:v.overlayColor}}}),...sn(c)},onClick:k,"aria-hidden":"true"}),F()]})}function yn(n){const t=requestAnimationFrame(()=>{n()});return()=>cancelAnimationFrame(t)}const bn="popups_dev_";function wn(n){return`${bn}${n}_session`}function _n(n){return`${bn}${n}_last_shown`}function kn(n){return`${bn}${n}_lifetime`}const Sn=document.currentScript;function Cn(){const n=n=>n?n.getAttribute("data-api-key")||n.getAttribute("data-project-id"):null,t=n(Sn);if(t)return t;const o=document.querySelectorAll("script[data-api-key], script[data-project-id]");return n(o[o.length-1])||(console.error("[Toggleup] No script tag with data-api-key or data-project-id found"),null)}let zn=null;function In(n){zn=n}function Fn(n,e=null){var i;const r=n.design||n,l=!1!==r.fixed,{host:a,container:u}=function(n=!0){const t=document.createElement("div");t.id="toggleup-host",n?(t.style.cssText="\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 0;\n            height: 0;\n            overflow: visible;\n            z-index: 2147483647;\n            pointer-events: none;\n        ",document.body.appendChild(t)):(t.style.cssText="\n            position: relative;\n            display: block;\n            width: 100%;\n            z-index: 2147483647;\n        ",document.body.insertBefore(t,document.body.firstChild));const o=t.attachShadow({mode:"open"}),e=document.createElement("div");return e.id="toggleup-container",e.style.cssText="pointer-events: auto;",o.appendChild(e),{host:t,shadowRoot:o,container:e}}(l),p=e||zn;n.id&&(null==(i=n.rules)?void 0:i.frequency)&&function(n,t){const{cap:o}=t;try{switch(o){case"once_per_session":!function(n){sessionStorage.setItem(wn(n),"true")}(n);break;case"once_per_user_24h":!function(n){localStorage.setItem(_n(n),Date.now().toString())}(n);break;case"once_lifetime":!function(n){localStorage.setItem(kn(n),"true")}(n)}}catch(e){console.warn("[Pop-ups.dev] Could not record popup view:",e.message)}}(n.id,n.rules.frequency);let c=null;if(l&&"top_bar"===r.type&&!1!==r.pushContent){const n=r.position||"top",t="50px",o="top"===n?document.body.style.marginTop:document.body.style.marginBottom;"top"===n?document.body.style.marginTop=t:document.body.style.marginBottom=t,c=()=>{"top"===n?document.body.style.marginTop=o||"":document.body.style.marginBottom=o||""}}!function(n,e,i,r=null){var l,a,u,p,c;l=v(vn,{config:n,branding:r,onClose:i,isPreview:!1}),(a=e)==document&&(a=document.documentElement),o.i&&o.i(l,a),u=a.o,p=[],c=[],j(a,l=a.o=v(b,null,[l]),u||f,f,a.namespaceURI,u?null:a.firstChild?t.call(a.childNodes):null,p,u?u.m:a.firstChild,!1,c),R(p,l,c)}(n,u,()=>{c&&c(),setTimeout(()=>{!function(n){n&&n.parentNode&&n.parentNode.removeChild(n)}(a)},250)},p)}function Tn(n){return function(n,t){const{cap:o}=t;switch(o){case"always":default:return!0;case"once_per_session":return!function(n){try{return"true"===sessionStorage.getItem(wn(n))}catch(t){return!1}}(n);case"once_per_user_24h":return!function(n){try{const t=localStorage.getItem(_n(n));if(!t)return!1;const o=parseInt(t,10);return Date.now()-o<864e5}catch(t){return!1}}(n);case"once_lifetime":return!function(n){try{return"true"===localStorage.getItem(kn(n))}catch(t){return!1}}(n)}}(n.id,n.rules.frequency)?function(n,t){const{type:o,value:e}=n;switch(o){case"immediate":return yn(t);case"time_delay":return function(n,t){const o=setTimeout(()=>{t()},1e3*n);return()=>clearTimeout(o)}(e,t);case"scroll_percent":return function(n,t){let o=!1;const e=()=>{if(o)return;const i=document.documentElement.scrollHeight-window.innerHeight,r=window.scrollY;(i>0?r/i*100:0)>=n&&(o=!0,t(),window.removeEventListener("scroll",e))};return e(),o||window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)}(e,t);case"exit_intent":return function(n){let t=!1;const o=e=>{t||e.clientY<=0&&(t=!0,n(),document.removeEventListener("mouseleave",o))};return"ontouchstart"in window||navigator.maxTouchPoints>0||document.addEventListener("mouseleave",o),()=>document.removeEventListener("mouseleave",o)}(t);default:return console.warn(`[Pop-ups.dev] Unknown trigger type: ${o}`),yn(t)}}(n.rules.trigger,()=>{Fn(n)}):null}async function On(){const n=Cn();if(!n)return;const t=await async function(n){try{const t=encodeURIComponent(window.location.pathname),o=await fetch(`https://twuvzxjmywyenpsxwavy.supabase.co/functions/v1/deliver-popups?api_key=${n}&url=${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!o.ok)throw 403===o.status?console.error("[Toggleup] Origin not allowed for this API key"):404===o.status&&console.error("[Toggleup] Project not found"),new Error(`API returned ${o.status}`);return await o.json()}catch(t){return console.error("[Toggleup] Failed to fetch popup configs:",t),[]}}(n);if(!t||0===t.length)return;const o=[];for(const e of t){const n=Tn(e);n&&o.push(n)}window.__toggleupCleanups=o}return"loading"===document.readyState?document.addEventListener("DOMContentLoaded",On):On(),window.ToggleupSDK={version:"1.0.0",init:On,showPopup:Fn,setBranding:In,getApiKey:Cn},n.getApiKey=Cn,n.init=On,n.setBranding=In,n.showPopup=Fn,Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),n}({});
